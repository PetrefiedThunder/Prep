# ============================================================================
# PREP PLATFORM - DEVELOPMENT ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env.development for local development

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

DATABASE_URL=postgresql://postgres:postgres@localhost:5432/prep_dev
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# STRIPE PAYMENT PROCESSING (TEST MODE)
# ============================================================================

# Use Stripe test keys (sk_test_...)
STRIPE_SECRET_KEY=sk_test_51XXXXXX
STRIPE_WEBHOOK_SECRET=whsec_test_XXXXXX
STRIPE_CONNECT_CLIENT_ID=ca_test_XXXXXX

STRIPE_CONNECT_RETURN_URL=http://localhost:3000/connect/return
STRIPE_CONNECT_REFRESH_URL=http://localhost:3000/connect/refresh

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

SECRET_KEY=dev-secret-key-change-in-production
ADMIN_JWT_SECRET=dev-admin-secret-change-in-production
ADMIN_JWT_AUDIENCE=prep-admin
OIDC_AUDIENCE=prep-platform
ADMIN_JWT_ALGORITHM=HS256
AUTH_SIGNING_KEY=${SECRET_KEY}
SESSION_SECRET=dev-session-secret

# ============================================================================
# EMAIL & NOTIFICATIONS (USE MOCK SERVICES IN DEV)
# ============================================================================

EMAIL_PROVIDER=mock
EMAIL_FROM=dev@localhost
SUPPORT_EMAIL=support@localhost

# Optional: Use MailHog for testing emails
# SMTP_HOST=localhost
# SMTP_PORT=1025

# ============================================================================
# FILE STORAGE (LOCAL OR MINIO)
# ============================================================================

S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=prep-dev
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin

# ============================================================================
# EXTERNAL INTEGRATIONS (OPTIONAL IN DEV)
# ============================================================================

# Leave blank to use mocks
GOOGLE_MAPS_API_KEY=
DOCUSIGN_INTEGRATION_KEY=
QUICKBOOKS_CLIENT_ID=

# ============================================================================
# MONITORING (DISABLED IN DEV)
# ============================================================================

SENTRY_DSN=
DD_API_KEY=

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

NODE_ENV=development
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=debug
ENABLE_QUERY_LOGGING=true

API_BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================================================
# PREPCHEF MICROSERVICES (DEVELOPMENT PORTS)
# ============================================================================

AUTH_SVC_PORT=3001
BOOKING_SVC_PORT=3002
PAYMENTS_SVC_PORT=3003
LISTING_SVC_PORT=3004
COMPLIANCE_SVC_PORT=3005
NOTIF_SVC_PORT=3006
ADMIN_SVC_PORT=3007

AUTH_SERVICE_URL=http://localhost:3001
BOOKING_SERVICE_URL=http://localhost:3002
PAYMENTS_SERVICE_URL=http://localhost:3003
LISTING_SERVICE_URL=http://localhost:3004
COMPLIANCE_SERVICE_URL=http://localhost:3005
NOTIFICATION_SERVICE_URL=http://localhost:3006
ADMIN_SERVICE_URL=http://localhost:3007

# ============================================================================
# REGULATORY COMPLIANCE DATA
# ============================================================================

FEDERAL_DB_PATH=./data/federal/prep_federal_layer.sqlite
CITY_DB_PATH=./data/cities/prep_city_regulations.sqlite

# ============================================================================
# FEATURE FLAGS (ENABLE ALL IN DEV)
# ============================================================================

FEATURE_PILOT_PROGRAM=true
FEATURE_INSTANT_BOOKING=true
FEATURE_AI_MATCHING=true
FEATURE_DOCUMENT_OCR=true

# ============================================================================
# MOCK SERVICES (DEVELOPMENT ONLY)
# ============================================================================

# Enable mock services
USE_MOCK_STRIPE=false
USE_MOCK_EMAIL=true
USE_MOCK_SMS=true
USE_MOCK_GOV_PORTALS=true
